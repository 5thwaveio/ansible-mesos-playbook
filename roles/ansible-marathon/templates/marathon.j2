# marathon.conf
# Generated by Ansible for {{ansible_fqdn}}

description "Marathon scheduler for Mesos"

start on runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5

# Custom local
script
  exec {{ marathon_install_location }}/bin/start \
    --ha \
    --master zk://{{ groups.mesos_masters | join(':' + mesos_port + ',') }}:{{mesos_port}}/mesos \
    --zk zk://{{ groups.mesos_masters | join(':' + mesos_port + ',')}}:{{mesos_port}}/marathon \
   >> /var/log/marathon.log 2>&1 
end script
