# mesos-master.conf
# Generated by Ansible for {{ansible_fqdn}}

description "mesos master"

start on runlevel [2345]
respawn

script
  [ ! -f /etc/default/mesos ]     || . /etc/default/mesos
  [ ! -f /etc/mesos/master.conf ] || . /etc/mesos/master.conf
  [ -z "${ULIMIT:-}" ] || ulimit $ULIMIT
  exec /usr/local/sbin/mesos-master \
    ${ZK:+--zk=$ZK} \
    ${IP:+--ip=$IP} \
    ${PORT:+--port=$PORT} \
    ${CLUSTER:+--cluster=$CLUSTER} \
    ${WORK_DIR:+--work_dir=$WORK_DIR} \
    ${QUORUM:+--quorum=$QUORUM} \
    ${WHITELIST:+--whitelist=$WHITELIST} \
    $OPTS \
    >> "$LOGS"/master.log 2>&1
end script

# /usr/local/sbin/mesos-master --zk=zk://mlh-m2.amer.gettywan.com:2181/mesos --ip=10.196.10.74 --cluster=mesos_cluster --log_dir=/var/log/mesos --work_dir=/var/mesos --quorum=1

